# 系统链码

读系统源码，初步的从感兴趣的读，还有就是要尽量的简单，这样不会阻碍读源码的兴趣。

相对于peer节点和orderer节点的庞杂，我们先处理一下，Fabric的系统链码，看看这些链码是如何工作的，他们负责了什么任务，这样方便我们理解链码的安装和实例化的过程。

## 查找关键字

Init QSCC

## System chaincode

```txt
The following are the different types of system chaincodes and their associated abbreviations:

Lifecycle system chaincode (LSCC) runs in all peers to handle package signing, install, instantiate, and upgrade chaincode requests. You can read more about the LSCC implements this process.
Configuration system chaincode (CSCC) runs in all peers to handle changes to a channel configuration, such as a policy update. You can read more about this process in the following chaincode topic.
Query system chaincode (QSCC) runs in all peers to provide ledger APIs which include block query, transaction query etc. You can read more about these ledger APIs in the transaction context topic.
Endorsement system chaincode (ESCC) runs in endorsing peers to cryptographically sign a transaction response. You can read more about how the ESCC implements this process.
Validation system chaincode (VSCC) validates a transaction, including checking endorsement policy and read-write set versioning. You can read more about the LSCC implements this process.
```

## LSCC

全称是“Lifecycle system chaincode”， 主要负责chaincode的package, install, instantiate, 和 upgrade 都是有这个系统合约完成的。

## CSCC

全称是“Configuration system chaincode”，主要负责channel配置的相关操作。

## QSCC

全称是“Query system chaincode”，主要负责交易信息的查询

## ESCC

全称是“Endorsement system chaincode”，主要是负责交易的背书

## VSCC

全称是“Validation system chaincode”，主要负责背书策略的校验

## 名称限定

```go
var (
	// NOTE the chaincode name/version regular expressions should stay in sync
	// with those defined in core/scc/lscc/lscc.go until LSCC has been removed.
	ChaincodeNameRegExp    = regexp.MustCompile("^[a-zA-Z0-9]+([-_][a-zA-Z0-9]+)*$")
	ChaincodeVersionRegExp = regexp.MustCompile("^[A-Za-z0-9_.+-]+$")

	collectionNameRegExp = regexp.MustCompile("^[A-Za-z0-9-]+([A-Za-z0-9_-]+)*$")

	// currently defined system chaincode names that shouldn't
	// be allowed as user-defined chaincode names
	systemChaincodeNames = map[string]struct{}{
		"cscc": {},
		"escc": {},
		"lscc": {},
		"qscc": {},
		"vscc": {},
	}
)
```

这里是智能合约的名称定义，其中系统合约的名字是关键字，这里先注册了。

